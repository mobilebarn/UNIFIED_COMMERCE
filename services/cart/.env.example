# Cart & Checkout Service Configuration

# Service Configuration
SERVICE_NAME=cart
ENVIRONMENT=development
PORT=8006

# Server Configuration
READ_TIMEOUT=30
WRITE_TIMEOUT=30
IDLE_TIMEOUT=120

# PostgreSQL Configuration
POSTGRES_URL=postgres://cart_user:cart_pass@localhost:5432/cart_checkout_service?sslmode=disable
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=cart_user
POSTGRES_PASSWORD=cart_pass
POSTGRES_DB=cart_checkout_service

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=5

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=3600

# Rate Limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_DURATION=3600

# Cart Settings
CART_EXPIRY_DAYS=30
ABANDONMENT_THRESHOLD_HOURS=24
MAX_CART_ITEMS=500
ALLOW_ANONYMOUS_CARTS=true

# Checkout Settings
CHECKOUT_EXPIRY_MINUTES=60
REQUIRE_ACCOUNT_FOR_CHECKOUT=false
AUTO_RESTORE_CARTS=true

# Discount Settings
MAX_DISCOUNT_CODES_PER_CART=5
DISCOUNT_CODE_VALIDATION_SERVICE_URL=http://localhost:8007

# Tax Settings
TAX_CALCULATION_ENABLED=true
TAX_SERVICE_URL=http://localhost:8010

# Shipping Settings
SHIPPING_CALCULATION_ENABLED=true
SHIPPING_SERVICE_URL=http://localhost:8011

# Inventory Integration
INVENTORY_SERVICE_URL=http://localhost:8004
RESERVE_INVENTORY_ON_ADD=true
RELEASE_INVENTORY_ON_REMOVE=true

# Order Integration
ORDER_SERVICE_URL=http://localhost:8005
AUTO_CREATE_ORDER_ON_CHECKOUT=true

# Payment Integration
PAYMENT_SERVICE_URL=http://localhost:8007
PAYMENT_TIMEOUT_MINUTES=15

# Session Management
SESSION_COOKIE_NAME=cart_session
SESSION_COOKIE_DOMAIN=localhost
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# Guest Checkout Settings
ALLOW_GUEST_CHECKOUT=true
GUEST_CHECKOUT_EXPIRY_DAYS=7
REQUIRE_EMAIL_FOR_GUEST_CHECKOUT=true

# Marketing Integration
COLLECT_CUSTOMER_PREFERENCES=true
ACCEPTS_MARKETING_DEFAULT=false
ABANDONED_CART_RECOVERY_ENABLED=true
ABANDONED_CART_RECOVERY_DELAY_HOURS=2

# Notification Settings
EMAIL_NOTIFICATIONS_ENABLED=true
SMS_NOTIFICATIONS_ENABLED=false

# Analytics Settings
TRACK_CART_EVENTS=true
TRACK_CHECKOUT_EVENTS=true

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=json

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090

# Tracing Configuration
TRACING_ENABLED=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Integration Settings
PRODUCT_CATALOG_SERVICE_URL=http://localhost:8003
MERCHANT_ACCOUNT_SERVICE_URL=http://localhost:8002
IDENTITY_SERVICE_URL=http://localhost:8001

# File Export Settings
EXPORT_PATH=./exports
MAX_EXPORT_RECORDS=10000

# Backup Settings
BACKUP_ENABLED=false
BACKUP_INTERVAL=86400  # Daily backups (seconds)
BACKUP_RETENTION_DAYS=30

# Security Settings
ENCRYPT_SENSITIVE_DATA=true
AUDIT_ALL_CHANGES=true