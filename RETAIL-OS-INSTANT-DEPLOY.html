<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Retail OS - Instant Deploy Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; padding: 15px;
        }
        .container { 
            max-width: 1600px; margin: 0 auto; 
            background: white; border-radius: 20px; 
            padding: 25px; box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        .header { 
            text-align: center; margin-bottom: 30px; 
            padding: 25px; background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 15px; color: white;
        }
        .deployment-status { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; 
            margin: 20px 0;
        }
        .status-card { 
            background: #f8f9fa; padding: 20px; border-radius: 12px; 
            border-left: 5px solid #007bff;
        }
        .status-card.deployed { border-left-color: #28a745; background: #d4edda; }
        .status-card.pending { border-left-color: #ffc107; background: #fff3cd; }
        .quick-deploy { 
            background: linear-gradient(135deg, #ff6b6b, #ee5a52); 
            color: white; padding: 25px; border-radius: 15px; margin: 25px 0;
            text-align: center;
        }
        .deploy-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); 
            gap: 20px; margin: 25px 0;
        }
        .service-deploy { 
            background: white; padding: 20px; border-radius: 12px; 
            border: 2px solid #e9ecef; position: relative;
        }
        .service-deploy h4 { color: #495057; margin-bottom: 15px; display: flex; align-items: center; }
        .service-deploy .icon { font-size: 1.5em; margin-right: 10px; }
        .deploy-btn { 
            display: block; background: linear-gradient(135deg, #007bff, #0056b3); 
            color: white; text-decoration: none; padding: 12px 20px; 
            border-radius: 8px; text-align: center; font-weight: bold;
            margin: 10px 0; transition: all 0.3s ease;
        }
        .deploy-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,123,255,0.3); }
        .deploy-btn.render { background: linear-gradient(135deg, #7b2cbf, #9c4dcc); }
        .deploy-btn.railway { background: linear-gradient(135deg, #000, #333); }
        .env-section { 
            background: #f1f3f4; padding: 15px; border-radius: 8px; 
            margin: 15px 0; font-family: monospace; font-size: 12px;
        }
        .copy-btn { 
            background: #6c757d; color: white; border: none; 
            padding: 6px 10px; border-radius: 4px; cursor: pointer;
            margin: 5px; font-size: 11px;
        }
        .copy-btn:hover { background: #5a6268; }
        .automation-panel { 
            background: linear-gradient(135deg, #28a745, #20c997); 
            color: white; padding: 20px; border-radius: 12px; margin: 20px 0;
        }
        .form-group { margin: 15px 0; }
        .form-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        .form-group input { 
            width: 100%; padding: 10px; border: 2px solid #e9ecef; 
            border-radius: 6px; font-size: 14px;
        }
        .generate-btn { 
            background: #fff; color: #28a745; padding: 12px 25px; 
            border: 2px solid #fff; border-radius: 8px; font-weight: bold; 
            cursor: pointer; margin: 10px 0;
        }
        .generate-btn:hover { background: #f8f9fa; }
        .progress-indicator { 
            display: flex; justify-content: space-between; align-items: center; 
            margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 8px;
        }
        .progress-step { 
            text-align: center; padding: 10px; border-radius: 50%; 
            background: #fff; color: #2196f3; font-weight: bold;
            width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;
        }
        .progress-step.completed { background: #4caf50; color: white; }
        .progress-step.current { background: #ff9800; color: white; }
        .platform-choice { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; 
            margin: 20px 0;
        }
        .platform-card { 
            background: white; padding: 20px; border-radius: 12px; 
            border: 3px solid #e9ecef; cursor: pointer; text-align: center;
            transition: all 0.3s ease;
        }
        .platform-card:hover { border-color: #007bff; transform: translateY(-2px); }
        .platform-card.selected { border-color: #28a745; background: #d4edda; }
        .platform-card h3 { color: #495057; margin-bottom: 10px; }
        .platform-card .pros { color: #28a745; font-size: 14px; margin-top: 10px; }
        .one-click-deploy { 
            background: linear-gradient(135deg, #ff6b6b, #ee5a52); 
            color: white; padding: 15px 30px; border: none; 
            border-radius: 8px; font-weight: bold; cursor: pointer;
            font-size: 16px; margin: 15px 0; width: 100%;
        }
        .one-click-deploy:hover { transform: translateY(-2px); }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Retail OS - Instant Deploy Dashboard</h1>
            <p>Deploy your complete unified commerce platform in minutes!</p>
            <div class="progress-indicator">
                <div class="progress-step completed">1</div>
                <div class="progress-step completed">2</div>
                <div class="progress-step current">3</div>
                <div class="progress-step">4</div>
                <div class="progress-step">5</div>
            </div>
            <p><strong>Status:</strong> Frontend deployed ‚úÖ | Backend ready to deploy üöÄ</p>
        </div>

        <div class="deployment-status">
            <div class="status-card deployed">
                <h3>‚úÖ Frontend Applications</h3>
                <p><strong>Storefront:</strong> <a href="https://unified-commerce.vercel.app" target="_blank">unified-commerce.vercel.app</a></p>
                <p><strong>Status:</strong> Live and functional</p>
                <p><strong>Platform:</strong> Vercel</p>
            </div>
            <div class="status-card pending">
                <h3>‚è≥ Backend Services</h3>
                <p><strong>Services:</strong> 10 microservices ready</p>
                <p><strong>Status:</strong> Ready to deploy</p>
                <p><strong>Architecture:</strong> Go + GraphQL Federation</p>
            </div>
        </div>

        <div class="quick-deploy">
            <h2>üéØ Choose Your Deployment Platform</h2>
            <p>Select your preferred platform for instant backend deployment</p>
        </div>

        <div class="platform-choice">
            <div class="platform-card" onclick="selectPlatform('render')" id="render-card">
                <h3>üé® Render (Recommended)</h3>
                <p>Professional deployment platform</p>
                <div class="pros">
                    ‚úÖ Automatic SSL certificates<br>
                    ‚úÖ GitHub integration<br>
                    ‚úÖ Free PostgreSQL & Redis<br>
                    ‚úÖ Zero configuration<br>
                    ‚úÖ Excellent for production
                </div>
            </div>
            <div class="platform-card" onclick="selectPlatform('railway')" id="railway-card">
                <h3>üöÇ Railway</h3>
                <p>Developer-focused platform</p>
                <div class="pros">
                    ‚úÖ Simple deployment<br>
                    ‚úÖ Great developer experience<br>
                    ‚úÖ Environment variables UI<br>
                    ‚úÖ Real-time logs<br>
                    ‚úÖ Fast iteration
                </div>
            </div>
        </div>

        <div class="automation-panel" id="deployment-panel" style="display: none;">
            <h3>ü§ñ Automated Deployment Configuration</h3>
            <p>I'll generate everything you need for instant deployment!</p>
            
            <div class="form-group">
                <label>GitHub Repository:</label>
                <input type="text" id="github-repo" value="https://github.com/mobilebarn/UNIFIED_COMMERCE" readonly>
            </div>
            
            <button class="generate-btn" onclick="generateDeployment()">üöÄ Generate Instant Deployment</button>
        </div>

        <div class="deploy-grid" id="services-grid" style="display: none;">
            <!-- Generated deployment cards will appear here -->
        </div>

        <div class="automation-panel" style="background: linear-gradient(135deg, #007bff, #0056b3);">
            <h3>üîß Alternative: PowerShell Automation</h3>
            <p>For complete automation, run our PowerShell script:</p>
            <div class="env-section" style="background: rgba(255,255,255,0.1); color: white;">
                <strong>In PowerShell (as Administrator):</strong><br>
                cd "c:\Users\dane\OneDrive\Desktop\UNIFIED_COMMERCE"<br>
                .\render-deploy.ps1
            </div>
            <button class="copy-btn" onclick="copyToClipboard('cd &quot;c:\\Users\\dane\\OneDrive\\Desktop\\UNIFIED_COMMERCE&quot;\n.\\render-deploy.ps1')" style="background: white; color: #007bff;">üìã Copy Commands</button>
        </div>
    </div>

    <script>
        let selectedPlatform = null;

        const services = [
            { name: 'Identity Service', path: 'services/identity', port: 8001, icon: 'üîê', database: 'PostgreSQL' },
            { name: 'Product Catalog', path: 'services/product-catalog', port: 8006, icon: 'üõçÔ∏è', database: 'MongoDB' },
            { name: 'Inventory Service', path: 'services/inventory', port: 8005, icon: 'üì¶', database: 'PostgreSQL' },
            { name: 'Cart Service', path: 'services/cart', port: 8002, icon: 'üõí', database: 'PostgreSQL' },
            { name: 'Order Service', path: 'services/order', port: 8003, icon: 'üìã', database: 'PostgreSQL' },
            { name: 'Payment Service', path: 'services/payment', port: 8004, icon: 'üí≥', database: 'PostgreSQL' },
            { name: 'Promotions Service', path: 'services/promotions', port: 8007, icon: 'üéØ', database: 'PostgreSQL' },
            { name: 'Merchant Account', path: 'services/merchant-account', port: 8008, icon: 'üè™', database: 'PostgreSQL' },
            { name: 'Analytics Service', path: 'services/analytics', port: 8009, icon: 'üìä', database: 'PostgreSQL' },
            { name: 'GraphQL Gateway', path: 'gateway', port: 4000, icon: 'üåê', database: 'None' }
        ];

        function selectPlatform(platform) {
            selectedPlatform = platform;
            
            // Update UI
            document.querySelectorAll('.platform-card').forEach(card => card.classList.remove('selected'));
            document.getElementById(platform + '-card').classList.add('selected');
            
            // Show deployment panel
            document.getElementById('deployment-panel').style.display = 'block';
            document.getElementById('deployment-panel').scrollIntoView({ behavior: 'smooth' });
        }

        function generateDeployment() {
            if (!selectedPlatform) {
                alert('Please select a deployment platform first!');
                return;
            }

            const servicesGrid = document.getElementById('services-grid');
            servicesGrid.innerHTML = '';
            servicesGrid.style.display = 'grid';

            if (selectedPlatform === 'render') {
                generateRenderDeployment();
            } else {
                generateRailwayDeployment();
            }

            servicesGrid.scrollIntoView({ behavior: 'smooth' });
        }

        function generateRenderDeployment() {
            const servicesGrid = document.getElementById('services-grid');
            
            services.forEach((service, index) => {
                const serviceCard = createRenderServiceCard(service, index);
                servicesGrid.appendChild(serviceCard);
            });
        }

        function createRenderServiceCard(service, index) {
            const card = document.createElement('div');
            card.className = 'service-deploy';
            
            const serviceName = `retail-os-${service.name.toLowerCase().replace(/\s+/g, '-')}`;
            const renderUrl = `https://dashboard.render.com/create?type=web&name=${serviceName}&repo=https://github.com/mobilebarn/UNIFIED_COMMERCE&rootDir=${service.path}`;
            
            const envVars = generateEnvVars(service);
            const buildSettings = generateBuildSettings(service);

            card.innerHTML = `
                <h4><span class="icon">${service.icon}</span>${service.name}</h4>
                <p><strong>Service:</strong> ${serviceName}</p>
                <p><strong>Port:</strong> ${service.port} | <strong>Database:</strong> ${service.database}</p>
                
                <a href="${renderUrl}" target="_blank" class="deploy-btn render">
                    üé® Deploy on Render
                </a>
                
                <div class="env-section">
                    <strong>Environment Variables:</strong><br>
                    ${envVars}
                    <button class="copy-btn" onclick="copyToClipboard(\`${envVars.replace(/`/g, '\\`')}\`)">üìã Copy Env</button>
                </div>
                
                <div class="env-section">
                    <strong>Build Commands:</strong><br>
                    ${buildSettings}
                    <button class="copy-btn" onclick="copyToClipboard('go build -o app ./cmd/server')">üìã Copy Build</button>
                    <button class="copy-btn" onclick="copyToClipboard('./app')">üìã Copy Start</button>
                </div>
            `;
            
            return card;
        }

        function generateRailwayDeployment() {
            const servicesGrid = document.getElementById('services-grid');
            
            // Add Railway environment generator
            const generatorCard = document.createElement('div');
            generatorCard.className = 'service-deploy';
            generatorCard.style.gridColumn = '1 / -1';
            generatorCard.innerHTML = `
                <h4><span class="icon">üöÇ</span>Railway Environment Generator</h4>
                <p>Generate all environment variables automatically from your Railway services</p>
                <a href="./scripts/railway-env-generator.html" target="_blank" class="deploy-btn railway">
                    üîß Open Railway Env Generator
                </a>
                <p style="margin-top: 10px; font-size: 14px; color: #666;">
                    This tool will automatically generate all environment variables once you have one Railway service deployed.
                </p>
            `;
            servicesGrid.appendChild(generatorCard);

            services.forEach((service, index) => {
                const serviceCard = createRailwayServiceCard(service, index);
                servicesGrid.appendChild(serviceCard);
            });
        }

        function createRailwayServiceCard(service, index) {
            const card = document.createElement('div');
            card.className = 'service-deploy';
            
            const serviceName = `retail-os-${service.name.toLowerCase().replace(/\s+/g, '-')}`;
            const railwayUrl = `https://railway.app/new/github?repo=mobilebarn/UNIFIED_COMMERCE&template=service&rootDir=${service.path}`;

            card.innerHTML = `
                <h4><span class="icon">${service.icon}</span>${service.name}</h4>
                <p><strong>Service:</strong> ${serviceName}</p>
                <p><strong>Path:</strong> ${service.path}</p>
                
                <a href="${railwayUrl}" target="_blank" class="deploy-btn railway">
                    üöÇ Deploy on Railway
                </a>
                
                <div class="env-section">
                    <strong>Railway Variables (add these):</strong><br>
                    SERVICE_PORT=${service.port}<br>
                    ENVIRONMENT=production<br>
                    ${service.database !== 'None' ? 'DATABASE_URL=${{Postgres.DATABASE_URL}}' : ''}<br>
                    REDIS_URL=\${{Redis.REDIS_URL}}
                </div>
            `;
            
            return card;
        }

        function generateEnvVars(service) {
            let envVars = `PORT=${service.port}
ENVIRONMENT=production
LOG_LEVEL=info
SERVICE_NAME=${service.name}`;

            if (service.database === 'PostgreSQL') {
                envVars += '\nDATABASE_URL=${{Postgres.DATABASE_URL}}';
            } else if (service.database === 'MongoDB') {
                envVars += '\nMONGO_URL=${{MongoDB.MONGO_URL}}';
            }

            if (service.name !== 'GraphQL Gateway') {
                envVars += '\nREDIS_URL=${{Redis.REDIS_URL}}';
            }

            return envVars.replace(/\n/g, '<br>');
        }

        function generateBuildSettings(service) {
            if (service.path === 'gateway') {
                return 'Build: npm install<br>Start: npm start';
            } else {
                return 'Build: go build -o app ./cmd/server<br>Start: ./app';
            }
        }

        function copyToClipboard(text) {
            // Remove HTML tags for copying
            const cleanText = text.replace(/<br>/g, '\n').replace(/<[^>]*>/g, '');
            
            navigator.clipboard.writeText(cleanText).then(() => {
                // Visual feedback
                event.target.style.background = '#28a745';
                event.target.textContent = '‚úÖ Copied!';
                
                setTimeout(() => {
                    event.target.style.background = '#6c757d';
                    event.target.textContent = 'üìã Copy';
                }, 2000);
            }).catch(() => {
                // Fallback
                const textArea = document.createElement('textarea');
                textArea.value = cleanText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Copied to clipboard!');
            });
        }

        // Auto-select Render as recommended
        window.onload = function() {
            selectPlatform('render');
        };
    </script>
</body>
</html>