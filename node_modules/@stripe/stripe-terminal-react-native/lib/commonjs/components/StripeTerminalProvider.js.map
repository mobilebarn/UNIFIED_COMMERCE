{"version":3,"names":["_react","_interopRequireWildcard","require","_types","_StripeTerminalContext","_functions","_useListener","_reactNative","_EventEmitter","_interopRequireDefault","_jsxRuntime","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_NativeModules$Stripe","NativeModules","StripeTerminalReactNative","getConstants","FETCH_TOKEN_PROVIDER","CHANGE_CONNECTION_STATUS","CHANGE_PAYMENT_STATUS","FINISH_DISCOVERING_READERS","FINISH_INSTALLING_UPDATE","REQUEST_READER_DISPLAY_MESSAGE","REQUEST_READER_INPUT","REPORT_AVAILABLE_UPDATE","REPORT_UPDATE_PROGRESS","START_INSTALLING_UPDATE","UPDATE_DISCOVERED_READERS","START_READER_RECONNECT","READER_RECONNECT_SUCCEED","READER_RECONNECT_FAIL","CHANGE_OFFLINE_STATUS","FORWARD_PAYMENT_INTENT","REPORT_FORWARDING_ERROR","DISCONNECT","UPDATE_BATTERY_LEVEL","REPORT_LOW_BATTERY_WARNING","REPORT_READER_EVENT","ACCEPT_TERMS_OF_SERVICE","emitter","EventEmitter","TOKEN_PROVIDER_ERROR_MESSAGE","StripeTerminalProvider","_ref","children","tokenProvider","logLevel","_useState","useState","_useState2","_slicedToArray2","isInitialized","setIsInitialized","_useState3","_useState4","loading","setLoading","_useState5","_useState6","connectedReader","setConnectedReader","_useState7","_useState8","discoveredReaders","setDiscoveredReaders","log","useCallback","code","message","console","didUpdateDiscoveredReaders","_ref2","readers","emit","didFinishDiscoveringReaders","_ref3","result","error","didReportAvailableUpdate","_ref4","didStartInstallingUpdate","_ref5","didReportReaderSoftwareUpdateProgress","_ref6","progress","didFinishInstallingUpdate","_ref7","didRequestReaderInput","_ref8","didRequestReaderDisplayMessage","_ref9","didChangePaymentStatus","_ref0","didChangeConnectionStatus","_ref1","didStartReaderReconnect","_ref10","reason","didSucceedReaderReconnect","_ref11","reader","didFailReaderReconnect","_ref12","didChangeOfflineStatus","_ref13","didForwardPaymentIntent","_ref14","assign","didReportForwardingError","_ref15","didDisconnect","_ref16","didUpdateBatteryLevel","_ref17","didReportLowBatteryWarning","_ref18","didReportReaderEvent","_ref19","didAcceptTermsOfService","useListener","tokenProviderHandler","_ref21","_asyncToGenerator2","_ref20","callbackId","connectionToken","setConnectionToken","undefined","_x","apply","arguments","_initialize","CommonError","Failed","response","initialize","value","useMemo","jsx","StripeTerminalContext","Provider"],"sources":["StripeTerminalProvider.tsx"],"sourcesContent":["import React, { useCallback, useState, useMemo } from 'react';\nimport {\n  type Reader,\n  type LogLevel,\n  CommonError,\n  type StripeError,\n  type EventResult,\n  type PaymentStatus,\n  type OfflineStatus,\n  type PaymentIntent,\n  type ReaderEvent,\n} from '../types';\nimport { StripeTerminalContext } from './StripeTerminalContext';\nimport { initialize, setConnectionToken } from '../functions';\nimport { useListener } from '../hooks/useListener';\nimport { NativeModules } from 'react-native';\nimport EventEmitter from 'react-native/Libraries/vendor/emitter/EventEmitter';\n\nconst {\n  FETCH_TOKEN_PROVIDER,\n  CHANGE_CONNECTION_STATUS,\n  CHANGE_PAYMENT_STATUS,\n  FINISH_DISCOVERING_READERS,\n  FINISH_INSTALLING_UPDATE,\n  REQUEST_READER_DISPLAY_MESSAGE,\n  REQUEST_READER_INPUT,\n  REPORT_AVAILABLE_UPDATE,\n  REPORT_UPDATE_PROGRESS,\n  START_INSTALLING_UPDATE,\n  UPDATE_DISCOVERED_READERS,\n  START_READER_RECONNECT,\n  READER_RECONNECT_SUCCEED,\n  READER_RECONNECT_FAIL,\n  CHANGE_OFFLINE_STATUS,\n  FORWARD_PAYMENT_INTENT,\n  REPORT_FORWARDING_ERROR,\n  DISCONNECT,\n  UPDATE_BATTERY_LEVEL,\n  REPORT_LOW_BATTERY_WARNING,\n  REPORT_READER_EVENT,\n  ACCEPT_TERMS_OF_SERVICE,\n} = NativeModules.StripeTerminalReactNative.getConstants();\n\nconst emitter = new EventEmitter();\n\nconst TOKEN_PROVIDER_ERROR_MESSAGE =\n  \"Couldn't fetch connection token. Please check your tokenProvider method\";\n\n/**\n *  StripeTerminalProvider Component Props\n */\nexport interface Props {\n  children: React.ReactElement | React.ReactElement[];\n  /*\n   You must set a token provider before calling any Stripe terminal method.\n   This should fetch a connection token from your server and return it as a string.\n    * @example\n    * ```ts\n    * const fetchTokenProvider = async () => {\n    *   const response = await fetch('http://api_url/connection_token');\n    *   const { secret } = await response.json();\n    *   return secret;\n    * };\n    * ```\n   */\n  tokenProvider: () => Promise<string>;\n  logLevel?: LogLevel;\n}\n\n/**\n *  StripeTerminalProvider Component\n *\n * @example\n * ```ts\n *  <StripeTerminalProvider tokenProvider={tokenProvider}>\n *    <App />\n *  </StripeTerminalProvider>\n * ```\n * @param __namedParameters Props\n * @returns React.JSX.Element\n * @category ReactComponents\n */\nexport function StripeTerminalProvider({\n  children,\n  tokenProvider,\n  logLevel,\n}: Props) {\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [connectedReader, setConnectedReader] = useState<Reader.Type | null>();\n  const [discoveredReaders, setDiscoveredReaders] = useState<Reader.Type[]>([]);\n\n  const log = useCallback(\n    (code: string, message?: any) => {\n      if (logLevel === 'verbose') {\n        console.log(`[Stripe terminal]: ${code}`, message);\n      }\n    },\n    [logLevel]\n  );\n\n  const didUpdateDiscoveredReaders = useCallback(\n    ({ readers }: { readers: Reader.Type[] }) => {\n      log('didUpdateDiscoveredReaders', readers);\n      emitter?.emit(UPDATE_DISCOVERED_READERS, readers);\n    },\n    [log]\n  );\n\n  const didFinishDiscoveringReaders = useCallback(\n    ({ result }: EventResult<{ error?: StripeError }>) => {\n      log('didFinishDiscoveringReaders', result);\n      emitter?.emit(FINISH_DISCOVERING_READERS, result.error);\n    },\n    [log]\n  );\n\n  const didReportAvailableUpdate = useCallback(\n    ({ result }: EventResult<Reader.SoftwareUpdate>) => {\n      log('didReportAvailableUpdate', result);\n      emitter?.emit(REPORT_AVAILABLE_UPDATE, result);\n    },\n    [log]\n  );\n\n  const didStartInstallingUpdate = useCallback(\n    ({ result }: EventResult<Reader.SoftwareUpdate>) => {\n      log('didStartInstallingUpdate', result);\n      emitter?.emit(START_INSTALLING_UPDATE, result);\n    },\n    [log]\n  );\n\n  const didReportReaderSoftwareUpdateProgress = useCallback(\n    ({ result }: EventResult<{ progress: string }>) => {\n      log('didReportReaderSoftwareUpdateProgress', result);\n      emitter?.emit(REPORT_UPDATE_PROGRESS, result.progress);\n    },\n    [log]\n  );\n\n  const didFinishInstallingUpdate = useCallback(\n    ({\n      result,\n    }: EventResult<Reader.SoftwareUpdate | { error: StripeError }>) => {\n      log('didFinishInstallingUpdate', result);\n      emitter?.emit(FINISH_INSTALLING_UPDATE, result);\n    },\n    [log]\n  );\n\n  const didRequestReaderInput = useCallback(\n    ({ result }: EventResult<Reader.InputOptions[]>) => {\n      log('didRequestReaderInput', result);\n      emitter?.emit(REQUEST_READER_INPUT, result);\n    },\n    [log]\n  );\n\n  const didRequestReaderDisplayMessage = useCallback(\n    ({ result }: EventResult<Reader.DisplayMessage>) => {\n      log('didRequestReaderDisplayMessage', result);\n      emitter?.emit(REQUEST_READER_DISPLAY_MESSAGE, result);\n    },\n    [log]\n  );\n\n  const didChangePaymentStatus = useCallback(\n    ({ result }: EventResult<PaymentStatus>) => {\n      log('didChangePaymentStatus', result);\n      emitter?.emit(CHANGE_PAYMENT_STATUS, result);\n    },\n    [log]\n  );\n\n  const didChangeConnectionStatus = useCallback(\n    ({ result }: EventResult<Reader.ConnectionStatus>) => {\n      log('didChangeConnectionStatus', result);\n      emitter?.emit(CHANGE_CONNECTION_STATUS, result);\n    },\n    [log]\n  );\n\n  const didStartReaderReconnect = useCallback(\n    ({ reason }: { reason: Reader.DisconnectReason }) => {\n      log('didStartReaderReconnect', reason);\n      emitter?.emit(START_READER_RECONNECT, reason);\n    },\n    [log]\n  );\n\n  const didSucceedReaderReconnect = useCallback(\n    ({ reader }: { reader: Reader.Type }) => {\n      log('didSucceedReaderReconnect');\n      emitter?.emit(READER_RECONNECT_SUCCEED, reader);\n    },\n    [log]\n  );\n\n  const didFailReaderReconnect = useCallback(\n    ({ error }: { error?: StripeError }) => {\n      log('didFailReaderReconnect');\n      emitter?.emit(READER_RECONNECT_FAIL, error);\n    },\n    [log]\n  );\n\n  const didChangeOfflineStatus = useCallback(\n    ({ result }: { result?: OfflineStatus }) => {\n      log('didChangeOfflineStatus', result);\n      emitter?.emit(CHANGE_OFFLINE_STATUS, result);\n    },\n    [log]\n  );\n\n  const didForwardPaymentIntent = useCallback(\n    ({ result, error }: { result: PaymentIntent.Type; error: StripeError }) => {\n      log('didForwardPaymentIntent', { ...result, ...error });\n      emitter?.emit(FORWARD_PAYMENT_INTENT, result, error);\n    },\n    [log]\n  );\n\n  const didReportForwardingError = useCallback(\n    ({ error }: { error?: StripeError }) => {\n      log('didReportForwardingError', error);\n      emitter?.emit(REPORT_FORWARDING_ERROR, error);\n    },\n    [log]\n  );\n\n  const didDisconnect = useCallback(\n    ({ reason }: { reason?: Reader.DisconnectReason }) => {\n      log('didDisconnect', reason);\n      emitter?.emit(DISCONNECT, reason);\n    },\n    [log]\n  );\n\n  const didUpdateBatteryLevel = useCallback(\n    ({ result }: { result?: Reader.BatteryLevel }) => {\n      log('didUpdateBatteryLevel', result);\n      emitter?.emit(UPDATE_BATTERY_LEVEL, result);\n    },\n    [log]\n  );\n\n  const didReportLowBatteryWarning = useCallback(\n    ({ result }: { result?: string }) => {\n      log('didReportLowBatteryWarning', result);\n      emitter?.emit(REPORT_LOW_BATTERY_WARNING, result);\n    },\n    [log]\n  );\n\n  const didReportReaderEvent = useCallback(\n    ({ result }: EventResult<ReaderEvent>) => {\n      log('didReportReaderEvent', result);\n      emitter?.emit(REPORT_READER_EVENT, result);\n    },\n    [log]\n  );\n\n  const didAcceptTermsOfService = useCallback(() => {\n    log('didAcceptTermsOfService');\n    emitter?.emit(ACCEPT_TERMS_OF_SERVICE);\n  }, [log]);\n\n  useListener(REPORT_AVAILABLE_UPDATE, didReportAvailableUpdate);\n  useListener(START_INSTALLING_UPDATE, didStartInstallingUpdate);\n  useListener(REPORT_UPDATE_PROGRESS, didReportReaderSoftwareUpdateProgress);\n  useListener(FINISH_INSTALLING_UPDATE, didFinishInstallingUpdate);\n\n  useListener(UPDATE_DISCOVERED_READERS, didUpdateDiscoveredReaders);\n  useListener(FINISH_DISCOVERING_READERS, didFinishDiscoveringReaders);\n\n  useListener(REQUEST_READER_INPUT, didRequestReaderInput);\n  useListener(REQUEST_READER_DISPLAY_MESSAGE, didRequestReaderDisplayMessage);\n  useListener(CHANGE_PAYMENT_STATUS, didChangePaymentStatus);\n  useListener(CHANGE_CONNECTION_STATUS, didChangeConnectionStatus);\n\n  useListener(START_READER_RECONNECT, didStartReaderReconnect);\n  useListener(READER_RECONNECT_SUCCEED, didSucceedReaderReconnect);\n  useListener(READER_RECONNECT_FAIL, didFailReaderReconnect);\n\n  useListener(CHANGE_OFFLINE_STATUS, didChangeOfflineStatus);\n  useListener(FORWARD_PAYMENT_INTENT, didForwardPaymentIntent);\n  useListener(REPORT_FORWARDING_ERROR, didReportForwardingError);\n\n  useListener(DISCONNECT, didDisconnect);\n\n  useListener(UPDATE_BATTERY_LEVEL, didUpdateBatteryLevel);\n  useListener(REPORT_LOW_BATTERY_WARNING, didReportLowBatteryWarning);\n  useListener(REPORT_READER_EVENT, didReportReaderEvent);\n  useListener(ACCEPT_TERMS_OF_SERVICE, didAcceptTermsOfService);\n\n  const tokenProviderHandler = async ({\n    callbackId,\n  }: {\n    callbackId: string;\n  }) => {\n    try {\n      const connectionToken = await tokenProvider();\n\n      setConnectionToken(connectionToken, undefined, callbackId);\n    } catch (error) {\n      setConnectionToken(undefined, TOKEN_PROVIDER_ERROR_MESSAGE, callbackId);\n\n      console.error(error);\n      console.error(TOKEN_PROVIDER_ERROR_MESSAGE);\n    }\n  };\n\n  useListener(FETCH_TOKEN_PROVIDER, tokenProviderHandler);\n\n  const _initialize = useCallback(async () => {\n    setLoading(true);\n\n    // test tokenProvider method since native SDK's doesn't fetch it on init\n    try {\n      await tokenProvider();\n    } catch (error) {\n      console.error(TOKEN_PROVIDER_ERROR_MESSAGE);\n      console.error(error);\n\n      return {\n        error: {\n          code: CommonError.Failed,\n          message: TOKEN_PROVIDER_ERROR_MESSAGE,\n        },\n      };\n    }\n\n    const response = await initialize({ logLevel });\n\n    if (response.error) {\n      log(response.error.code, response.error.message);\n    } else if (response.reader) {\n      log('Connected to the reader: ', response.reader);\n      setConnectedReader(response.reader);\n    }\n\n    if (!response.error) {\n      setIsInitialized(true);\n    }\n\n    setLoading(false);\n\n    return response;\n  }, [logLevel, tokenProvider, log]);\n\n  const value = useMemo(\n    () => ({\n      loading,\n      isInitialized,\n      connectedReader,\n      discoveredReaders,\n      setIsInitialized,\n      setLoading,\n      setConnectedReader,\n      setDiscoveredReaders,\n      log,\n      initialize: _initialize,\n      emitter,\n    }),\n    [\n      _initialize,\n      loading,\n      isInitialized,\n      connectedReader,\n      discoveredReaders,\n      setIsInitialized,\n      setLoading,\n      setConnectedReader,\n      setDiscoveredReaders,\n      log,\n    ]\n  );\n\n  return (\n    <StripeTerminalContext.Provider value={value}>\n      {children}\n    </StripeTerminalContext.Provider>\n  );\n}\n"],"mappings":"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","ignoreList":[]}