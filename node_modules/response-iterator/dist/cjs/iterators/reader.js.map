{"version":3,"sources":["/Users/kevin/Dev/OpenSource/http/response-iterator/src/iterators/reader.ts"],"sourcesContent":["const hasIterator = typeof Symbol !== 'undefined' && Symbol.asyncIterator;\n\n/* c8 ignore start */\nexport default function readerIterator<T, TReturn = unknown, TNext = unknown>(reader: ReadableStreamReader<T>): AsyncIterableIterator<T, TReturn, TNext> {\n  const iterator = {\n    next(): Promise<IteratorResult<T, TReturn>> {\n      return reader.read(undefined) as Promise<IteratorResult<T, TReturn>>;\n    },\n  };\n\n  if (hasIterator) {\n    iterator[Symbol.asyncIterator] = function (): AsyncIterator<T, TReturn> {\n      return this;\n    };\n  }\n\n  return iterator as AsyncIterableIterator<T, TReturn, TNext>;\n}\n/* c8 ignore stop */\n"],"names":["readerIterator","hasIterator","Symbol","asyncIterator","reader","iterator","next","read","undefined"],"mappings":";;;;+BAEA,mBAAmB,GACnB,UAeA,kBAAkB;;;eAfMA;;;AAHxB,IAAMC,cAAc,OAAOC,WAAW,eAAeA,OAAOC,aAAa;AAG1D,SAASH,eAAsDI,MAA+B;IAC3G,IAAMC,WAAW;QACfC,MAAAA,SAAAA;YACE,OAAOF,OAAOG,IAAI,CAACC;QACrB;IACF;IAEA,IAAIP,aAAa;QACfI,QAAQ,CAACH,OAAOC,aAAa,CAAC,GAAG;YAC/B,OAAO,IAAI;QACb;IACF;IAEA,OAAOE;AACT"}